// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package containers

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
	"strings"

	"github.com/fr4nsys/usulnet/internal/web/templates/layouts"
)

type ContainerSettingsData struct {
	PageData  layouts.PageData
	Container ContainerSettingsInfo
	Networks  []string // Available networks for dropdown
	Images    []string // Available images for autocomplete
}

type ContainerSettingsInfo struct {
	ID            string
	Name          string
	Image         string
	Tag           string
	State         string
	IconURL       string
	WebUIProtocol string
	WebUIHost     string
	WebUIPort     string
	WebUIPath     string
	NetworkMode   string
	Hostname      string
	Ports         []PortSettingInfo
	Volumes       []VolumeSettingInfo
	EnvVars       []EnvSettingInfo
	Devices       []DeviceSettingInfo
	Command       string
	Privileged    bool
	MemoryLimit   int64
	CPUShares     int64
	NanoCPUs      int64
	RestartPolicy string
	CapAdd        []string
	CapDrop       []string
}

type PortSettingInfo struct {
	HostPort      string
	ContainerPort string
	Protocol      string
}

type VolumeSettingInfo struct {
	HostPath      string
	ContainerPath string
	Mode          string
}

type EnvSettingInfo struct {
	Key   string
	Value string
}

type DeviceSettingInfo struct {
	HostPath      string
	ContainerPath string
}

func getImageName(image string) string {
	lastColon := strings.LastIndex(image, ":")
	if lastColon == -1 {
		return image
	}
	lastSlash := strings.LastIndex(image, "/")
	if lastSlash > lastColon {
		return image
	}
	return image[:lastColon]
}

func getImageTag(image string) string {
	lastColon := strings.LastIndex(image, ":")
	if lastColon == -1 {
		return "latest"
	}
	lastSlash := strings.LastIndex(image, "/")
	if lastSlash > lastColon {
		return "latest"
	}
	return image[lastColon+1:]
}

func formatNanoCPUs(n int64) string {
	if n <= 0 {
		return ""
	}
	return fmt.Sprintf("%.2f", float64(n)/1e9)
}

func formatMemoryMB(b int64) string {
	if b == 0 {
		return ""
	}
	mb := b / (1024 * 1024)
	return fmt.Sprintf("%d", mb)
}

func ContainerSettings(data ContainerSettingsData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<!-- Breadcrumb --> <nav class=\"flex items-center gap-2 text-sm text-gray-400 mb-4\"><a href=\"/containers\" class=\"hover:text-primary-400 transition-colors\">Containers</a> <i class=\"fas fa-chevron-right text-xs\"></i> <a href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 templ.SafeURL
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/containers/" + data.Container.ID))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 111, Col: 62}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "\" class=\"hover:text-primary-400 transition-colors\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 111, Col: 135}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "</a> <i class=\"fas fa-chevron-right text-xs\"></i> <span class=\"text-white\">Settings</span></nav><!-- Header --> <div class=\"flex items-start justify-between mb-6\"><div class=\"flex items-center gap-4\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 = []any{"w-12 h-12 rounded-xl flex items-center justify-center", stateIconBg(data.Container.State)}
			templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var5...)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "<div class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var6 string
			templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var5).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 1, Col: 0}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var7 = []any{"fas fa-cog text-xl", stateIconColor(data.Container.State)}
			templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var7...)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "<i class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var8 string
			templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var7).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 1, Col: 0}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "\"></i></div><div><div class=\"flex items-center gap-3\"><h1 class=\"text-2xl font-bold font-display text-white\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var9 string
			templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 124, Col: 82}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, " Settings</h1>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var10 = []any{"px-2.5 py-1 rounded-full text-xs font-medium", stateBadge(data.Container.State)}
			templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var10...)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "<span class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var11 string
			templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var10).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 1, Col: 0}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var12 string
			templ_7745c5c3_Var12, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.State)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 126, Col: 29}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var12))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "</span></div><p class=\"text-gray-400 mt-1 text-sm\">Container configuration - changes will recreate the container</p></div></div></div><!-- Tabs --> <div class=\"border-b border-dark-600 mb-6\"><nav class=\"flex gap-1 -mb-px\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = tab("Overview", "overview", "settings", "/containers/"+data.Container.ID).Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = tab("Logs", "logs", "settings", "/containers/"+data.Container.ID+"/logs").Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = tab("Stats", "stats", "settings", "/containers/"+data.Container.ID+"/stats").Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = tab("Inspect", "inspect", "settings", "/containers/"+data.Container.ID+"/inspect").Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = tab("Files", "files", "settings", "/containers/"+data.Container.ID+"/files").Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = tab("Terminal", "exec", "settings", "/containers/"+data.Container.ID+"/exec").Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = tab("Settings", "settings", "settings", "/containers/"+data.Container.ID+"/settings").Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "</nav></div><!-- Settings Form --> <form method=\"POST\" action=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var13 templ.SafeURL
			templ_7745c5c3_Var13, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/containers/" + data.Container.ID + "/settings"))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 148, Col: 94}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var13))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "\" id=\"container-settings-form\"><input type=\"hidden\" name=\"csrf_token\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var14 string
			templ_7745c5c3_Var14, templ_7745c5c3_Err = templ.JoinStringErrs(data.PageData.CSRFToken)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 149, Col: 73}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var14))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "\"> <input type=\"hidden\" name=\"container_id\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var15 string
			templ_7745c5c3_Var15, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.ID)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 150, Col: 69}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var15))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "\"><div class=\"space-y-6\"><!-- Image & Basic Info --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\"><h2 class=\"text-lg font-semibold text-white mb-4\"><i class=\"fas fa-box mr-2 text-primary-400\"></i>Image & Basic Info</h2><div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Docker Image *</label> <input type=\"text\" name=\"image\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var16 string
			templ_7745c5c3_Var16, templ_7745c5c3_Err = templ.JoinStringErrs(getImageName(data.Container.Image))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 164, Col: 50}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var16))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"e.g. pihole/pihole\" required></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Tag</label> <input type=\"text\" name=\"tag\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var17 string
			templ_7745c5c3_Var17, templ_7745c5c3_Err = templ.JoinStringErrs(getImageTag(data.Container.Image))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 175, Col: 49}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var17))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"latest\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Container Name *</label> <input type=\"text\" name=\"name\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var18 string
			templ_7745c5c3_Var18, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 185, Col: 35}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var18))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" required></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Hostname</label> <input type=\"text\" name=\"hostname\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var19 string
			templ_7745c5c3_Var19, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.Hostname)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 195, Col: 39}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var19))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"Container hostname\"></div></div></div><!-- Web UI Access --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\"><h2 class=\"text-lg font-semibold text-white mb-4\"><i class=\"fas fa-globe mr-2 text-primary-400\"></i>Web UI Access</h2><p class=\"text-sm text-gray-400 mb-4\">Configure a direct link to this container's web interface. If left empty, the first exposed host port will be used automatically.</p><div class=\"flex flex-wrap items-end gap-2\"><div class=\"w-28\"><label class=\"block text-sm font-medium text-gray-300 mb-2\">Protocol</label> <select name=\"webui_protocol\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"><option value=\"\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.WebUIProtocol == "" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, ">Auto</option> <option value=\"http\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.WebUIProtocol == "http" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 23, ">http://</option> <option value=\"https\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.WebUIProtocol == "https" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 24, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 25, ">https://</option></select></div><div class=\"flex-1 min-w-[120px]\"><label class=\"block text-sm font-medium text-gray-300 mb-2\">Host</label> <input type=\"text\" name=\"webui_host\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var20 string
			templ_7745c5c3_Var20, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.WebUIHost)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 226, Col: 40}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var20))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 26, "\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"(auto-detect)\"></div><div class=\"w-24\"><label class=\"block text-sm font-medium text-gray-300 mb-2\">Port</label> <input type=\"text\" name=\"webui_port\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var21 string
			templ_7745c5c3_Var21, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.WebUIPort)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 236, Col: 40}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var21))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 27, "\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"(auto)\"></div><div class=\"w-32\"><label class=\"block text-sm font-medium text-gray-300 mb-2\">Path</label> <input type=\"text\" name=\"webui_path\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var22 string
			templ_7745c5c3_Var22, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.WebUIPath)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 246, Col: 40}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var22))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 28, "\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"/admin\"></div><div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var23 = []any{"inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors",
				templ.KV("bg-primary-600 hover:bg-primary-700 text-white", buildWebUIURL(data.Container) != ""),
				templ.KV("bg-dark-600 text-gray-500 cursor-not-allowed pointer-events-none", buildWebUIURL(data.Container) == "")}
			templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var23...)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 29, "<a href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var24 templ.SafeURL
			templ_7745c5c3_Var24, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL(buildWebUIURL(data.Container)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 253, Col: 59}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var24))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 30, "\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var25 string
			templ_7745c5c3_Var25, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var23).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 1, Col: 0}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var25))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 31, "\"><i class=\"fas fa-external-link-alt\"></i>Open Web UI</a></div></div></div><!-- Network --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\"><h2 class=\"text-lg font-semibold text-white mb-4\"><i class=\"fas fa-network-wired mr-2 text-primary-400\"></i>Network</h2><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Network Mode</label> <select name=\"network_mode\" class=\"w-full max-w-xs px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"><option value=\"bridge\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.NetworkMode == "bridge" || data.Container.NetworkMode == "" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 32, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 33, ">bridge</option> <option value=\"host\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.NetworkMode == "host" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 34, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 35, ">host</option> <option value=\"none\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.NetworkMode == "none" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 36, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 37, ">none</option> ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for _, net := range data.Networks {
				if net != "bridge" && net != "host" && net != "none" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 38, "<option value=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var26 string
					templ_7745c5c3_Var26, templ_7745c5c3_Err = templ.JoinStringErrs(net)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 282, Col: 28}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var26))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 39, "\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					if data.Container.NetworkMode == net {
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 40, " selected")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 41, ">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var27 string
					templ_7745c5c3_Var27, templ_7745c5c3_Err = templ.JoinStringErrs(net)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 282, Col: 84}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var27))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 42, "</option>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 43, "</select></div></div><!-- Port Mappings --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\" x-data=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var28 string
			templ_7745c5c3_Var28, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("portSettings(%s)", portSettingsJSON(data.Container.Ports)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 290, Col: 147}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var28))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 44, "\"><div class=\"flex items-center justify-between mb-4\"><h2 class=\"text-lg font-semibold text-white\"><i class=\"fas fa-plug mr-2 text-primary-400\"></i>Port Mappings</h2><button type=\"button\" @click=\"addPort()\" class=\"text-sm px-3 py-1.5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors\"><i class=\"fas fa-plus mr-1\"></i>Add Port</button></div><div class=\"space-y-2\"><div class=\"grid grid-cols-12 gap-2 text-xs text-gray-400 font-medium px-1\"><div class=\"col-span-4\">Host Port</div><div class=\"col-span-4\">Container Port</div><div class=\"col-span-3\">Protocol</div><div class=\"col-span-1\"></div></div><template x-for=\"(port, index) in ports\" :key=\"index\"><div class=\"grid grid-cols-12 gap-2 items-center\"><div class=\"col-span-4\"><input type=\"text\" :name=\"'port_host_' + index\" x-model=\"port.host\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"8080\"></div><div class=\"col-span-4\"><input type=\"text\" :name=\"'port_container_' + index\" x-model=\"port.container\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"80\"></div><div class=\"col-span-3\"><select :name=\"'port_protocol_' + index\" x-model=\"port.protocol\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"><option value=\"tcp\">TCP</option> <option value=\"udp\">UDP</option></select></div><div class=\"col-span-1 text-center\"><button type=\"button\" @click=\"removePort(index)\" class=\"text-red-400 hover:text-red-300 p-1\"><i class=\"fas fa-trash text-sm\"></i></button></div></div></template><template x-if=\"ports.length === 0\"><p class=\"text-sm text-gray-500 text-center py-3\">No port mappings configured</p></template></div><input type=\"hidden\" name=\"ports_json\" :value=\"JSON.stringify(ports)\"></div><!-- Volume Mounts --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\" x-data=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var29 string
			templ_7745c5c3_Var29, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("volumeSettings(%s)", volumeSettingsJSON(data.Container.Volumes)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 351, Col: 153}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var29))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 45, "\"><div class=\"flex items-center justify-between mb-4\"><h2 class=\"text-lg font-semibold text-white\"><i class=\"fas fa-hdd mr-2 text-primary-400\"></i>Volume Mounts</h2><button type=\"button\" @click=\"addVolume()\" class=\"text-sm px-3 py-1.5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors\"><i class=\"fas fa-plus mr-1\"></i>Add Volume</button></div><div class=\"space-y-2\"><div class=\"grid grid-cols-12 gap-2 text-xs text-gray-400 font-medium px-1\"><div class=\"col-span-5\">Host Path / Volume</div><div class=\"col-span-5\">Container Path</div><div class=\"col-span-1\">RW</div><div class=\"col-span-1\"></div></div><template x-for=\"(vol, index) in volumes\" :key=\"index\"><div class=\"grid grid-cols-12 gap-2 items-center\"><div class=\"col-span-5\"><input type=\"text\" :name=\"'vol_host_' + index\" x-model=\"vol.host\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"/host/path or volume_name\"></div><div class=\"col-span-5\"><input type=\"text\" :name=\"'vol_container_' + index\" x-model=\"vol.container\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"/container/path\"></div><div class=\"col-span-1 flex justify-center\"><input type=\"checkbox\" :name=\"'vol_rw_' + index\" x-model=\"vol.rw\" class=\"rounded border-dark-500 bg-dark-900 text-primary-500\" checked></div><div class=\"col-span-1 text-center\"><button type=\"button\" @click=\"removeVolume(index)\" class=\"text-red-400 hover:text-red-300 p-1\"><i class=\"fas fa-trash text-sm\"></i></button></div></div></template><template x-if=\"volumes.length === 0\"><p class=\"text-sm text-gray-500 text-center py-3\">No volumes configured</p></template></div><input type=\"hidden\" name=\"volumes_json\" :value=\"JSON.stringify(volumes)\"></div><!-- Environment Variables --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\" x-data=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var30 string
			templ_7745c5c3_Var30, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("envSettings(%s)", envSettingsJSON(data.Container.EnvVars)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 411, Col: 147}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var30))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 46, "\"><div class=\"flex items-center justify-between mb-4\"><h2 class=\"text-lg font-semibold text-white\"><i class=\"fas fa-list mr-2 text-primary-400\"></i>Environment Variables</h2><button type=\"button\" @click=\"addEnv()\" class=\"text-sm px-3 py-1.5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors\"><i class=\"fas fa-plus mr-1\"></i>Add Variable</button></div><div class=\"space-y-2\"><div class=\"grid grid-cols-12 gap-2 text-xs text-gray-400 font-medium px-1\"><div class=\"col-span-5\">Key</div><div class=\"col-span-6\">Value</div><div class=\"col-span-1\"></div></div><template x-for=\"(env, index) in envVars\" :key=\"index\"><div class=\"grid grid-cols-12 gap-2 items-center\"><div class=\"col-span-5\"><input type=\"text\" :name=\"'env_key_' + index\" x-model=\"env.key\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"VARIABLE_NAME\"></div><div class=\"col-span-6\"><input type=\"text\" :name=\"'env_value_' + index\" x-model=\"env.value\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"value\"></div><div class=\"col-span-1 text-center\"><button type=\"button\" @click=\"removeEnv(index)\" class=\"text-red-400 hover:text-red-300 p-1\"><i class=\"fas fa-trash text-sm\"></i></button></div></div></template><template x-if=\"envVars.length === 0\"><p class=\"text-sm text-gray-500 text-center py-3\">No environment variables configured</p></template></div><input type=\"hidden\" name=\"env_json\" :value=\"JSON.stringify(envVars)\"></div><!-- Devices --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\" x-data=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var31 string
			templ_7745c5c3_Var31, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("deviceSettings(%s)", deviceSettingsJSON(data.Container.Devices)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 461, Col: 153}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var31))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 47, "\"><div class=\"flex items-center justify-between mb-4\"><h2 class=\"text-lg font-semibold text-white\"><i class=\"fas fa-microchip mr-2 text-primary-400\"></i>Devices</h2><button type=\"button\" @click=\"addDevice()\" class=\"text-sm px-3 py-1.5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors\"><i class=\"fas fa-plus mr-1\"></i>Add Device</button></div><div class=\"space-y-2\"><div class=\"grid grid-cols-12 gap-2 text-xs text-gray-400 font-medium px-1\"><div class=\"col-span-5\">Host Device</div><div class=\"col-span-6\">Container Device</div><div class=\"col-span-1\"></div></div><template x-for=\"(dev, index) in devices\" :key=\"index\"><div class=\"grid grid-cols-12 gap-2 items-center\"><div class=\"col-span-5\"><input type=\"text\" :name=\"'dev_host_' + index\" x-model=\"dev.host\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"/dev/dri\"></div><div class=\"col-span-6\"><input type=\"text\" :name=\"'dev_container_' + index\" x-model=\"dev.container\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"/dev/dri\"></div><div class=\"col-span-1 text-center\"><button type=\"button\" @click=\"removeDevice(index)\" class=\"text-red-400 hover:text-red-300 p-1\"><i class=\"fas fa-trash text-sm\"></i></button></div></div></template><template x-if=\"devices.length === 0\"><p class=\"text-sm text-gray-500 text-center py-3\">No devices configured</p></template></div><input type=\"hidden\" name=\"devices_json\" :value=\"JSON.stringify(devices)\"></div><!-- Command & Execution --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\"><h2 class=\"text-lg font-semibold text-white mb-4\"><i class=\"fas fa-terminal mr-2 text-primary-400\"></i>Command & Execution</h2><div class=\"space-y-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Container Command</label> <input type=\"text\" name=\"command\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var32 string
			templ_7745c5c3_Var32, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.Command)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 521, Col: 38}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var32))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 48, "\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"e.g. /bin/sh -c 'echo hello'\"><p class=\"text-xs text-gray-500 mt-1\">Override the default container command</p></div></div></div><!-- Resources --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\"><h2 class=\"text-lg font-semibold text-white mb-4\"><i class=\"fas fa-tachometer-alt mr-2 text-primary-400\"></i>Resources</h2><div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Memory Limit (MB)</label> <input type=\"number\" name=\"memory_limit\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var33 string
			templ_7745c5c3_Var33, templ_7745c5c3_Err = templ.JoinStringErrs(formatMemoryMB(data.Container.MemoryLimit))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 541, Col: 58}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var33))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 49, "\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"0 = unlimited\" min=\"0\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">CPU Shares</label> <input type=\"number\" name=\"cpu_shares\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var34 string
			templ_7745c5c3_Var34, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", data.Container.CPUShares))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 552, Col: 59}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var34))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 50, "\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"1024 = default\" min=\"0\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">CPUs (NanoCPUs / 1e9)</label> <input type=\"number\" name=\"nano_cpus\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var35 string
			templ_7745c5c3_Var35, templ_7745c5c3_Err = templ.JoinStringErrs(formatNanoCPUs(data.Container.NanoCPUs))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 563, Col: 55}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var35))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 51, "\" class=\"w-full px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\" placeholder=\"0 = unlimited\" min=\"0\" step=\"0.01\"></div></div></div><!-- Security & Privileges --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\"><h2 class=\"text-lg font-semibold text-white mb-4\"><i class=\"fas fa-shield-alt mr-2 text-primary-400\"></i>Security & Privileges</h2><div class=\"space-y-4\"><div class=\"flex items-center gap-3\"><label class=\"relative inline-flex items-center cursor-pointer\"><input type=\"checkbox\" name=\"privileged\" value=\"true\" class=\"sr-only peer\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.Privileged {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 52, " checked")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 53, "><div class=\"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600\"></div><span class=\"ms-3 text-sm font-medium text-gray-300\">Privileged Mode</span></label> <span class=\"text-xs text-yellow-400\"><i class=\"fas fa-exclamation-triangle mr-1\"></i>Full access to host</span></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Restart Policy</label> <select name=\"restart_policy\" class=\"w-full max-w-xs px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"><option value=\"\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.RestartPolicy == "" || data.Container.RestartPolicy == "no" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 54, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 55, ">no</option> <option value=\"always\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.RestartPolicy == "always" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 56, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 57, ">always</option> <option value=\"unless-stopped\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.RestartPolicy == "unless-stopped" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 58, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 59, ">unless-stopped</option> <option value=\"on-failure\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.RestartPolicy == "on-failure" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 60, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 61, ">on-failure</option></select></div></div></div><!-- Capabilities --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\" x-data=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var36 string
			templ_7745c5c3_Var36, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("capSettings(%s)", capSettingsJSON(data.Container.CapAdd)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 611, Col: 146}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var36))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 62, "\"><div class=\"flex items-center justify-between mb-4\"><h2 class=\"text-lg font-semibold text-white\"><i class=\"fas fa-key mr-2 text-primary-400\"></i>Capabilities (cap-add)</h2><button type=\"button\" @click=\"addCap()\" class=\"text-sm px-3 py-1.5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors\"><i class=\"fas fa-plus mr-1\"></i>Add Capability</button></div><div class=\"space-y-2\"><template x-for=\"(cap, index) in caps\" :key=\"index\"><div class=\"flex items-center gap-2\"><select :name=\"'cap_add_' + index\" x-model=\"cap.value\" class=\"flex-1 px-3 py-2 bg-dark-900 border border-dark-500 rounded-lg text-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-primary-500\"><option value=\"\">Select capability...</option> <option value=\"NET_ADMIN\">NET_ADMIN</option> <option value=\"NET_RAW\">NET_RAW</option> <option value=\"SYS_ADMIN\">SYS_ADMIN</option> <option value=\"SYS_TIME\">SYS_TIME</option> <option value=\"SYS_PTRACE\">SYS_PTRACE</option> <option value=\"SYS_RAWIO\">SYS_RAWIO</option> <option value=\"SYS_MODULE\">SYS_MODULE</option> <option value=\"IPC_LOCK\">IPC_LOCK</option> <option value=\"MKNOD\">MKNOD</option> <option value=\"AUDIT_WRITE\">AUDIT_WRITE</option> <option value=\"AUDIT_CONTROL\">AUDIT_CONTROL</option> <option value=\"DAC_OVERRIDE\">DAC_OVERRIDE</option> <option value=\"DAC_READ_SEARCH\">DAC_READ_SEARCH</option> <option value=\"FOWNER\">FOWNER</option> <option value=\"SETUID\">SETUID</option> <option value=\"SETGID\">SETGID</option> <option value=\"CHOWN\">CHOWN</option> <option value=\"KILL\">KILL</option></select> <button type=\"button\" @click=\"removeCap(index)\" class=\"text-red-400 hover:text-red-300 p-1\"><i class=\"fas fa-trash text-sm\"></i></button></div></template><template x-if=\"caps.length === 0\"><p class=\"text-sm text-gray-500 text-center py-3\">No additional capabilities</p></template></div><input type=\"hidden\" name=\"caps_json\" :value=\"JSON.stringify(caps)\"></div><!-- Actions --><div class=\"flex items-center justify-between bg-dark-800 rounded-xl border border-dark-600 p-5\"><div class=\"text-sm text-gray-400\"><i class=\"fas fa-info-circle mr-1\"></i> Saving settings will stop and recreate the container with the new configuration.</div><div class=\"flex items-center gap-3\"><a href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var37 templ.SafeURL
			templ_7745c5c3_Var37, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/containers/" + data.Container.ID))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 667, Col: 65}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var37))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 63, "\" class=\"px-4 py-2 text-gray-400 hover:text-white transition-colors\">Cancel</a> <button type=\"submit\" onclick=\"return confirm('This will recreate the container with the new settings. Continue?')\" class=\"px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors\"><i class=\"fas fa-save mr-2\"></i>Save & Recreate</button></div></div></div></form><script>\n\t\t\tfunction portSettings(initial) {\n\t\t\t\treturn {\n\t\t\t\t\tports: initial || [],\n\t\t\t\t\taddPort() { this.ports.push({ host: '', container: '', protocol: 'tcp' }); },\n\t\t\t\t\tremovePort(index) { this.ports.splice(index, 1); }\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfunction volumeSettings(initial) {\n\t\t\t\treturn {\n\t\t\t\t\tvolumes: initial || [],\n\t\t\t\t\taddVolume() { this.volumes.push({ host: '', container: '', rw: true }); },\n\t\t\t\t\tremoveVolume(index) { this.volumes.splice(index, 1); }\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfunction envSettings(initial) {\n\t\t\t\treturn {\n\t\t\t\t\tenvVars: initial || [],\n\t\t\t\t\taddEnv() { this.envVars.push({ key: '', value: '' }); },\n\t\t\t\t\tremoveEnv(index) { this.envVars.splice(index, 1); }\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfunction deviceSettings(initial) {\n\t\t\t\treturn {\n\t\t\t\t\tdevices: initial || [],\n\t\t\t\t\taddDevice() { this.devices.push({ host: '', container: '' }); },\n\t\t\t\t\tremoveDevice(index) { this.devices.splice(index, 1); }\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfunction capSettings(initial) {\n\t\t\t\treturn {\n\t\t\t\t\tcaps: initial || [],\n\t\t\t\t\taddCap() { this.caps.push({ value: '' }); },\n\t\t\t\t\tremoveCap(index) { this.caps.splice(index, 1); }\n\t\t\t\t};\n\t\t\t}\n\t\t</script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = layouts.Base(data.PageData).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

// ContainerSettingsSummary renders a read-only settings summary fragment (for HTMX in stack detail).
func ContainerSettingsSummary(data ContainerSettingsData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var38 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var38 == nil {
			templ_7745c5c3_Var38 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 64, "<div class=\"p-4 space-y-4 bg-dark-900/50 border-t border-dark-600\"><!-- Image & Network --><div class=\"grid grid-cols-2 md:grid-cols-4 gap-3\"><div><span class=\"text-xs text-gray-500 block\">Image</span> <span class=\"text-sm text-white font-mono\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var39 string
		templ_7745c5c3_Var39, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.Image)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 733, Col: 69}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var39))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 65, ":")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var40 string
		templ_7745c5c3_Var40, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.Tag)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 733, Col: 92}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var40))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 66, "</span></div><div><span class=\"text-xs text-gray-500 block\">Network</span> <span class=\"text-sm text-gray-300\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var41 string
		templ_7745c5c3_Var41, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.NetworkMode)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 737, Col: 68}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var41))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 67, "</span></div><div><span class=\"text-xs text-gray-500 block\">Restart Policy</span> <span class=\"text-sm text-gray-300\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if data.Container.RestartPolicy != "" {
			var templ_7745c5c3_Var42 string
			templ_7745c5c3_Var42, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.RestartPolicy)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 743, Col: 36}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var42))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		} else {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 68, "no")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 69, "</span></div><div><span class=\"text-xs text-gray-500 block\">Privileged</span> ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if data.Container.Privileged {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 70, "<span class=\"text-sm text-yellow-400\"><i class=\"fas fa-exclamation-triangle mr-1\"></i>Yes</span>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		} else {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 71, "<span class=\"text-sm text-gray-400\">No</span>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 72, "</div></div><!-- Ports -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if len(data.Container.Ports) > 0 {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 73, "<div><span class=\"text-xs text-gray-500 block mb-1\"><i class=\"fas fa-plug mr-1\"></i>Port Mappings</span><div class=\"flex flex-wrap gap-2\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for _, p := range data.Container.Ports {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 74, "<span class=\"px-2 py-1 bg-dark-700 rounded text-xs text-gray-300 font-mono\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var43 string
				templ_7745c5c3_Var43, templ_7745c5c3_Err = templ.JoinStringErrs(p.HostPort)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 766, Col: 19}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var43))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 75, ":")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var44 string
				templ_7745c5c3_Var44, templ_7745c5c3_Err = templ.JoinStringErrs(p.ContainerPort)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 766, Col: 39}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var44))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 76, "/")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var45 string
				templ_7745c5c3_Var45, templ_7745c5c3_Err = templ.JoinStringErrs(p.Protocol)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 766, Col: 54}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var45))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 77, "</span>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 78, "</div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 79, "<!-- Volumes -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if len(data.Container.Volumes) > 0 {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 80, "<div><span class=\"text-xs text-gray-500 block mb-1\"><i class=\"fas fa-hdd mr-1\"></i>Volumes</span><div class=\"space-y-1\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for _, v := range data.Container.Volumes {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 81, "<div class=\"text-xs text-gray-300 font-mono\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var46 string
				templ_7745c5c3_Var46, templ_7745c5c3_Err = templ.JoinStringErrs(v.HostPath)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 780, Col: 19}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var46))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 82, "  ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var47 string
				templ_7745c5c3_Var47, templ_7745c5c3_Err = templ.JoinStringErrs(v.ContainerPath)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 780, Col: 43}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var47))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 83, " ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if v.Mode == "ro" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 84, "<span class=\"text-yellow-400 ml-1\">(ro)</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 85, "</div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 86, "</div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 87, "<!-- Env vars (count only) -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if len(data.Container.EnvVars) > 0 {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 88, "<div><span class=\"text-xs text-gray-500\"><i class=\"fas fa-list mr-1\"></i>Environment Variables: ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var48 string
			templ_7745c5c3_Var48, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", len(data.Container.EnvVars)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 793, Col: 143}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var48))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 89, " configured</span></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 90, "<!-- Resources -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if data.Container.MemoryLimit > 0 || data.Container.CPUShares > 0 || data.Container.NanoCPUs > 0 {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 91, "<div class=\"flex flex-wrap gap-4\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Container.MemoryLimit > 0 {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 92, "<span class=\"text-xs text-gray-400\"><i class=\"fas fa-memory mr-1\"></i>Memory: ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var49 string
				templ_7745c5c3_Var49, templ_7745c5c3_Err = templ.JoinStringErrs(formatMemoryMB(data.Container.MemoryLimit))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 801, Col: 127}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var49))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 93, "MB</span> ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			if data.Container.CPUShares > 0 {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 94, "<span class=\"text-xs text-gray-400\"><i class=\"fas fa-microchip mr-1\"></i>CPU Shares: ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var50 string
				templ_7745c5c3_Var50, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", data.Container.CPUShares))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 804, Col: 135}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var50))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 95, "</span> ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			if data.Container.NanoCPUs > 0 {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 96, "<span class=\"text-xs text-gray-400\"><i class=\"fas fa-microchip mr-1\"></i>CPUs: ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var51 string
				templ_7745c5c3_Var51, templ_7745c5c3_Err = templ.JoinStringErrs(formatNanoCPUs(data.Container.NanoCPUs))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 807, Col: 125}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var51))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 97, "</span>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 98, "</div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 99, "<!-- Edit link --><div class=\"pt-2 border-t border-dark-700\"><a href=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var52 templ.SafeURL
		templ_7745c5c3_Var52, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/containers/" + data.Container.ID + "/settings"))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/settings.templ`, Line: 815, Col: 74}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var52))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 100, "\" class=\"text-sm text-primary-400 hover:text-primary-300 transition-colors\"><i class=\"fas fa-edit mr-1\"></i>Edit Full Settings</a></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

// Helper functions for JSON serialization in templates
func portSettingsJSON(ports []PortSettingInfo) string {
	if len(ports) == 0 {
		return "[]"
	}
	var parts []string
	for _, p := range ports {
		parts = append(parts, fmt.Sprintf(`{"host":"%s","container":"%s","protocol":"%s"}`, escapeJSON(p.HostPort), escapeJSON(p.ContainerPort), escapeJSON(p.Protocol)))
	}
	return "[" + strings.Join(parts, ",") + "]"
}

func volumeSettingsJSON(volumes []VolumeSettingInfo) string {
	if len(volumes) == 0 {
		return "[]"
	}
	var parts []string
	for _, v := range volumes {
		rw := "true"
		if v.Mode == "ro" {
			rw = "false"
		}
		parts = append(parts, fmt.Sprintf(`{"host":"%s","container":"%s","rw":%s}`, escapeJSON(v.HostPath), escapeJSON(v.ContainerPath), rw))
	}
	return "[" + strings.Join(parts, ",") + "]"
}

func envSettingsJSON(envVars []EnvSettingInfo) string {
	if len(envVars) == 0 {
		return "[]"
	}
	var parts []string
	for _, e := range envVars {
		parts = append(parts, fmt.Sprintf(`{"key":"%s","value":"%s"}`, escapeJSON(e.Key), escapeJSON(e.Value)))
	}
	return "[" + strings.Join(parts, ",") + "]"
}

func deviceSettingsJSON(devices []DeviceSettingInfo) string {
	if len(devices) == 0 {
		return "[]"
	}
	var parts []string
	for _, d := range devices {
		parts = append(parts, fmt.Sprintf(`{"host":"%s","container":"%s"}`, escapeJSON(d.HostPath), escapeJSON(d.ContainerPath)))
	}
	return "[" + strings.Join(parts, ",") + "]"
}

func capSettingsJSON(caps []string) string {
	if len(caps) == 0 {
		return "[]"
	}
	var parts []string
	for _, c := range caps {
		parts = append(parts, fmt.Sprintf(`{"value":"%s"}`, escapeJSON(c)))
	}
	return "[" + strings.Join(parts, ",") + "]"
}

// buildWebUIURL constructs a URL to the container's web UI from config or first exposed port.
func buildWebUIURL(c ContainerSettingsInfo) string {
	protocol := c.WebUIProtocol
	host := c.WebUIHost
	port := c.WebUIPort
	path := c.WebUIPath

	// Auto-detect from first exposed port if not configured
	if port == "" && len(c.Ports) > 0 {
		for _, p := range c.Ports {
			if p.HostPort != "" && p.HostPort != "0" {
				port = p.HostPort
				break
			}
		}
	}

	if port == "" {
		return ""
	}

	if protocol == "" {
		protocol = "http"
	}
	if host == "" {
		host = "localhost"
	}
	if path != "" && !strings.HasPrefix(path, "/") {
		path = "/" + path
	}

	return protocol + "://" + host + ":" + port + path
}

func escapeJSON(s string) string {
	s = strings.ReplaceAll(s, `\`, `\\`)
	s = strings.ReplaceAll(s, `"`, `\"`)
	s = strings.ReplaceAll(s, "\n", `\n`)
	s = strings.ReplaceAll(s, "\r", `\r`)
	s = strings.ReplaceAll(s, "\t", `\t`)
	return s
}

var _ = templruntime.GeneratedTemplate
