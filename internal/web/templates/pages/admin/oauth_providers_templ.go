// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package admin

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
	"github.com/fr4nsys/usulnet/internal/web/templates/layouts"
)

type OAuthProvidersData struct {
	PageData  layouts.PageData
	Providers []OAuthProviderItem
	Stats     OAuthStats
}

type OAuthProviderItem struct {
	ID            string
	Name          string
	Provider      string
	ClientID      string
	AuthURL       string
	DefaultRole   string
	AutoProvision bool
	IsEnabled     bool
	CreatedAt     string
	UpdatedAt     string
}

type OAuthStats struct {
	Total    int64
	Enabled  int64
	Disabled int64
}

func OAuthProvidersList(data OAuthProvidersData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"space-y-6\"><!-- Header --><div class=\"flex items-center justify-between\"><div><h1 class=\"text-2xl font-display font-bold text-white\">OAuth Providers</h1><p class=\"text-gray-400 mt-1\">Manage OAuth/OIDC authentication providers</p></div><button onclick=\"showNewProviderModal()\" class=\"btn-primary\"><i class=\"fas fa-plus mr-2\"></i>Add Provider</button></div><!-- Stats Cards --><div class=\"grid grid-cols-3 gap-4\"><div class=\"card p-4\"><div class=\"text-2xl font-bold text-white\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 string
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", data.Stats.Total))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 55, Col: 85}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "</div><div class=\"text-sm text-gray-400\">Total Providers</div></div><div class=\"card p-4\"><div class=\"text-2xl font-bold text-green-400\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", data.Stats.Enabled))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 59, Col: 91}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "</div><div class=\"text-sm text-gray-400\">Enabled</div></div><div class=\"card p-4\"><div class=\"text-2xl font-bold text-gray-500\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 string
			templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", data.Stats.Disabled))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 63, Col: 91}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "</div><div class=\"text-sm text-gray-400\">Disabled</div></div></div><!-- Providers Table --><div class=\"card\"><div class=\"overflow-x-auto\"><table class=\"table\"><thead><tr><th>Provider</th><th>Type</th><th>Client ID</th><th>Default Role</th><th>Auto Provision</th><th>Status</th><th>Actions</th></tr></thead> <tbody>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if len(data.Providers) == 0 {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "<tr><td colspan=\"7\" class=\"text-center text-gray-500 py-8\"><i class=\"fas fa-key text-4xl mb-3 block\"></i> No OAuth providers configured yet</td></tr>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			for _, provider := range data.Providers {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "<tr><td><div class=\"flex items-center gap-3\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var6 = []any{"w-8 h-8 rounded-lg flex items-center justify-center", providerBgColor(provider.Provider)}
				templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var6...)
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "<div class=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var7 string
				templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var6).String())
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 1, Col: 0}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var8 = []any{providerIcon(provider.Provider)}
				templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var8...)
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "<i class=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var9 string
				templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var8).String())
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 1, Col: 0}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "\"></i></div><div><div class=\"font-medium text-white\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var10 string
				templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(provider.Name)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 100, Col: 63}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "</div><div class=\"text-xs text-gray-500\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var11 string
				templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(provider.ID[:8])
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 101, Col: 64}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "...</div></div></div></td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var12 = []any{"badge", providerBadgeClass(provider.Provider)}
				templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var12...)
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "<span class=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var13 string
				templ_7745c5c3_Var13, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var12).String())
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 1, Col: 0}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var13))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var14 string
				templ_7745c5c3_Var14, templ_7745c5c3_Err = templ.JoinStringErrs(provider.Provider)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 107, Col: 30}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var14))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "</span></td><td><code class=\"text-xs bg-dark-700 px-2 py-1 rounded\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var15 string
				templ_7745c5c3_Var15, templ_7745c5c3_Err = templ.JoinStringErrs(truncateClientID(provider.ClientID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 112, Col: 48}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var15))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "</code></td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var16 = []any{"badge", roleBadgeClass(provider.DefaultRole)}
				templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var16...)
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "<span class=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var17 string
				templ_7745c5c3_Var17, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var16).String())
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 1, Col: 0}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var17))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var18 string
				templ_7745c5c3_Var18, templ_7745c5c3_Err = templ.JoinStringErrs(provider.DefaultRole)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 117, Col: 33}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var18))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "</span></td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if provider.AutoProvision {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "<span class=\"text-green-400\"><i class=\"fas fa-check\"></i></span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "<span class=\"text-gray-500\"><i class=\"fas fa-times\"></i></span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, "</td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if provider.IsEnabled {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 23, "<span class=\"badge badge-success\">Enabled</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 24, "<span class=\"badge badge-danger\">Disabled</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 25, "</td><td><div class=\"flex items-center gap-2\"><a href=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var19 templ.SafeURL
				templ_7745c5c3_Var19, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/admin/oauth/" + provider.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 137, Col: 63}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var19))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 26, "\" class=\"text-primary-400 hover:text-primary-300 text-sm\">Edit</a> ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if provider.IsEnabled {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 27, "<button hx-post=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var20 string
					templ_7745c5c3_Var20, templ_7745c5c3_Err = templ.JoinStringErrs("/admin/oauth/" + provider.ID + "/disable")
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 144, Col: 65}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var20))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 28, "\" hx-target=\"body\" class=\"text-yellow-400 hover:text-yellow-300 text-sm\">Disable</button> ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 29, "<button hx-post=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var21 string
					templ_7745c5c3_Var21, templ_7745c5c3_Err = templ.JoinStringErrs("/admin/oauth/" + provider.ID + "/enable")
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 152, Col: 64}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var21))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 30, "\" hx-target=\"body\" class=\"text-green-400 hover:text-green-300 text-sm\">Enable</button> ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 31, "<button hx-delete=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var22 string
				templ_7745c5c3_Var22, templ_7745c5c3_Err = templ.JoinStringErrs("/admin/oauth/" + provider.ID)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 160, Col: 53}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var22))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 32, "\" hx-target=\"body\" hx-confirm=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var23 string
				templ_7745c5c3_Var23, templ_7745c5c3_Err = templ.JoinStringErrs("Delete OAuth provider '" + provider.Name + "'? This cannot be undone.")
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 162, Col: 96}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var23))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 33, "\" class=\"text-red-400 hover:text-red-300 text-sm\">Delete</button></div></td></tr>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 34, "</tbody></table></div></div><!-- Provider Info --><div class=\"card p-6\"><h3 class=\"text-lg font-semibold text-white mb-4\">Supported Providers</h3><div class=\"grid grid-cols-2 md:grid-cols-5 gap-4\"><div class=\"flex items-center gap-3 p-3 bg-dark-700 rounded-lg\"><div class=\"w-10 h-10 rounded-lg bg-gray-500/20 flex items-center justify-center\"><i class=\"fas fa-globe text-gray-400\"></i></div><div><div class=\"font-medium text-white\">Generic</div><div class=\"text-xs text-gray-500\">OAuth2</div></div></div><div class=\"flex items-center gap-3 p-3 bg-dark-700 rounded-lg\"><div class=\"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center\"><i class=\"fas fa-id-card text-blue-400\"></i></div><div><div class=\"font-medium text-white\">OIDC</div><div class=\"text-xs text-gray-500\">OpenID Connect</div></div></div><div class=\"flex items-center gap-3 p-3 bg-dark-700 rounded-lg\"><div class=\"w-10 h-10 rounded-lg bg-[#24292e] flex items-center justify-center\"><i class=\"fab fa-github text-white\"></i></div><div><div class=\"font-medium text-white\">GitHub</div><div class=\"text-xs text-gray-500\">OAuth App</div></div></div><div class=\"flex items-center gap-3 p-3 bg-dark-700 rounded-lg\"><div class=\"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center\"><i class=\"fab fa-google text-red-400\"></i></div><div><div class=\"font-medium text-white\">Google</div><div class=\"text-xs text-gray-500\">OIDC</div></div></div><div class=\"flex items-center gap-3 p-3 bg-dark-700 rounded-lg\"><div class=\"w-10 h-10 rounded-lg bg-blue-600/20 flex items-center justify-center\"><i class=\"fab fa-microsoft text-blue-500\"></i></div><div><div class=\"font-medium text-white\">Microsoft</div><div class=\"text-xs text-gray-500\">Azure AD</div></div></div></div></div></div><!-- New Provider Modal --> <div id=\"newProviderModal\" class=\"fixed inset-0 bg-black/50 hidden items-center justify-center z-50\"><div class=\"bg-dark-800 rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\"><div class=\"p-6 border-b border-dark-700\"><h2 class=\"text-xl font-display font-bold text-white\">Add OAuth Provider</h2></div><form action=\"/admin/oauth\" method=\"POST\" class=\"p-6 space-y-4\"><input type=\"hidden\" name=\"csrf_token\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var24 string
			templ_7745c5c3_Var24, templ_7745c5c3_Err = templ.JoinStringErrs(data.PageData.CSRFToken)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 236, Col: 75}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var24))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 35, "\"><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Provider Name</label> <input type=\"text\" name=\"name\" required class=\"input\" placeholder=\"e.g. GitHub SSO\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Provider Type</label> <select name=\"provider\" id=\"providerType\" required class=\"input\" onchange=\"updateProviderDefaults()\"><option value=\"\">Select type...</option> <option value=\"generic\">Generic OAuth2</option> <option value=\"oidc\">OpenID Connect</option> <option value=\"github\">GitHub</option> <option value=\"google\">Google</option> <option value=\"microsoft\">Microsoft</option></select></div></div><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Client ID</label> <input type=\"text\" name=\"client_id\" required class=\"input\" placeholder=\"Your OAuth client ID\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Client Secret</label> <input type=\"password\" name=\"client_secret\" required class=\"input\" placeholder=\"Your OAuth client secret\"></div></div><div id=\"urlFields\" class=\"space-y-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Authorization URL</label> <input type=\"url\" name=\"auth_url\" id=\"authUrl\" class=\"input\" placeholder=\"https://example.com/oauth/authorize\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Token URL</label> <input type=\"url\" name=\"token_url\" id=\"tokenUrl\" class=\"input\" placeholder=\"https://example.com/oauth/token\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">User Info URL</label> <input type=\"url\" name=\"user_info_url\" id=\"userInfoUrl\" class=\"input\" placeholder=\"https://example.com/oauth/userinfo\"></div></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Scopes</label> <input type=\"text\" name=\"scopes\" id=\"scopesInput\" class=\"input\" placeholder=\"openid profile email\"><p class=\"text-xs text-gray-500 mt-1\">Space-separated list of scopes</p></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Redirect URL</label> <input type=\"url\" name=\"redirect_url\" class=\"input\" placeholder=\"Leave empty for auto-generated\"><p class=\"text-xs text-gray-500 mt-1\">Usually: https://your-domain/auth/oauth/callback</p></div><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Default Role</label> <select name=\"default_role\" class=\"input\"><option value=\"viewer\">Viewer</option> <option value=\"operator\">Operator</option> <option value=\"admin\">Admin</option></select></div><div class=\"flex items-center gap-4 pt-7\"><label class=\"flex items-center gap-2 cursor-pointer\"><input type=\"checkbox\" name=\"auto_provision\" checked class=\"w-4 h-4 rounded border-gray-600 bg-dark-700 text-primary-500 focus:ring-primary-500\"> <span class=\"text-sm text-gray-300\">Auto-provision users</span></label> <label class=\"flex items-center gap-2 cursor-pointer\"><input type=\"checkbox\" name=\"is_enabled\" class=\"w-4 h-4 rounded border-gray-600 bg-dark-700 text-primary-500 focus:ring-primary-500\"> <span class=\"text-sm text-gray-300\">Enable provider</span></label></div></div><!-- Group Mapping --><details class=\"bg-dark-700 rounded-lg\"><summary class=\"p-4 cursor-pointer text-gray-300 hover:text-white\"><i class=\"fas fa-users-cog mr-2\"></i>Group Role Mapping (optional)</summary><div class=\"p-4 pt-0 space-y-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Admin Group</label> <input type=\"text\" name=\"admin_group\" class=\"input\" placeholder=\"Group name for admin role\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Operator Group</label> <input type=\"text\" name=\"operator_group\" class=\"input\" placeholder=\"Group name for operator role\"></div></div></details><!-- Claim Mapping --><details class=\"bg-dark-700 rounded-lg\"><summary class=\"p-4 cursor-pointer text-gray-300 hover:text-white\"><i class=\"fas fa-tags mr-2\"></i>Claim Mapping (advanced)</summary><div class=\"p-4 pt-0 grid grid-cols-2 gap-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">User ID Claim</label> <input type=\"text\" name=\"user_id_claim\" class=\"input\" value=\"sub\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Username Claim</label> <input type=\"text\" name=\"username_claim\" class=\"input\" value=\"preferred_username\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Email Claim</label> <input type=\"text\" name=\"email_claim\" class=\"input\" value=\"email\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Groups Claim</label> <input type=\"text\" name=\"groups_claim\" class=\"input\" value=\"groups\"></div></div></details><div class=\"flex justify-end gap-3 pt-4\"><button type=\"button\" onclick=\"hideNewProviderModal()\" class=\"btn-secondary\">Cancel</button> <button type=\"submit\" class=\"btn-primary\">Create Provider</button></div></form></div></div><script>\n\t\t\tfunction showNewProviderModal() {\n\t\t\t\tdocument.getElementById('newProviderModal').classList.remove('hidden');\n\t\t\t\tdocument.getElementById('newProviderModal').classList.add('flex');\n\t\t\t}\n\n\t\t\tfunction hideNewProviderModal() {\n\t\t\t\tdocument.getElementById('newProviderModal').classList.add('hidden');\n\t\t\t\tdocument.getElementById('newProviderModal').classList.remove('flex');\n\t\t\t}\n\n\t\t\tfunction editProvider(id) {\n\t\t\t\t// Redirect to edit page or open edit modal\n\t\t\t\twindow.location.href = '/admin/oauth/' + id;\n\t\t\t}\n\n\t\t\tfunction updateProviderDefaults() {\n\t\t\t\tconst provider = document.getElementById('providerType').value;\n\t\t\t\tconst authUrl = document.getElementById('authUrl');\n\t\t\t\tconst tokenUrl = document.getElementById('tokenUrl');\n\t\t\t\tconst userInfoUrl = document.getElementById('userInfoUrl');\n\t\t\t\tconst scopes = document.getElementById('scopesInput');\n\n\t\t\t\tconst defaults = {\n\t\t\t\t\t'github': {\n\t\t\t\t\t\tauth: 'https://github.com/login/oauth/authorize',\n\t\t\t\t\t\ttoken: 'https://github.com/login/oauth/access_token',\n\t\t\t\t\t\tuserInfo: 'https://api.github.com/user',\n\t\t\t\t\t\tscopes: 'read:user user:email'\n\t\t\t\t\t},\n\t\t\t\t\t'google': {\n\t\t\t\t\t\tauth: 'https://accounts.google.com/o/oauth2/v2/auth',\n\t\t\t\t\t\ttoken: 'https://oauth2.googleapis.com/token',\n\t\t\t\t\t\tuserInfo: 'https://openidconnect.googleapis.com/v1/userinfo',\n\t\t\t\t\t\tscopes: 'openid profile email'\n\t\t\t\t\t},\n\t\t\t\t\t'microsoft': {\n\t\t\t\t\t\tauth: 'https://login.microsoftonline.com/common/oauth2/v2.0/authorize',\n\t\t\t\t\t\ttoken: 'https://login.microsoftonline.com/common/oauth2/v2.0/token',\n\t\t\t\t\t\tuserInfo: 'https://graph.microsoft.com/oidc/userinfo',\n\t\t\t\t\t\tscopes: 'openid profile email'\n\t\t\t\t\t},\n\t\t\t\t\t'oidc': {\n\t\t\t\t\t\tauth: '',\n\t\t\t\t\t\ttoken: '',\n\t\t\t\t\t\tuserInfo: '',\n\t\t\t\t\t\tscopes: 'openid profile email'\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tif (defaults[provider]) {\n\t\t\t\t\tauthUrl.value = defaults[provider].auth;\n\t\t\t\t\ttokenUrl.value = defaults[provider].token;\n\t\t\t\t\tuserInfoUrl.value = defaults[provider].userInfo;\n\t\t\t\t\tscopes.value = defaults[provider].scopes;\n\t\t\t\t} else {\n\t\t\t\t\tauthUrl.value = '';\n\t\t\t\t\ttokenUrl.value = '';\n\t\t\t\t\tuserInfoUrl.value = '';\n\t\t\t\t\tscopes.value = '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Close modal on escape key\n\t\t\tdocument.addEventListener('keydown', function(e) {\n\t\t\t\tif (e.key === 'Escape') {\n\t\t\t\t\thideNewProviderModal();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Close modal on background click\n\t\t\tdocument.getElementById('newProviderModal').addEventListener('click', function(e) {\n\t\t\t\tif (e.target === this) {\n\t\t\t\t\thideNewProviderModal();\n\t\t\t\t}\n\t\t\t});\n\t\t</script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = layouts.Base(data.PageData).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func providerIcon(provider string) string {
	switch provider {
	case "github":
		return "fab fa-github text-white"
	case "google":
		return "fab fa-google text-red-400"
	case "microsoft":
		return "fab fa-microsoft text-blue-500"
	case "oidc":
		return "fas fa-id-card text-blue-400"
	default:
		return "fas fa-globe text-gray-400"
	}
}

func providerBgColor(provider string) string {
	switch provider {
	case "github":
		return "bg-[#24292e]"
	case "google":
		return "bg-red-500/20"
	case "microsoft":
		return "bg-blue-600/20"
	case "oidc":
		return "bg-blue-500/20"
	default:
		return "bg-gray-500/20"
	}
}

func providerBadgeClass(provider string) string {
	switch provider {
	case "github":
		return "bg-gray-700 text-white"
	case "google":
		return "bg-red-500/20 text-red-400"
	case "microsoft":
		return "bg-blue-600/20 text-blue-400"
	case "oidc":
		return "bg-blue-500/20 text-blue-400"
	default:
		return "bg-gray-500/20 text-gray-400"
	}
}

func roleBadgeClass(role string) string {
	switch role {
	case "admin":
		return "badge-danger"
	case "operator":
		return "badge-info"
	default:
		return "badge-success"
	}
}

func truncateClientID(clientID string) string {
	if len(clientID) > 20 {
		return clientID[:20] + "..."
	}
	return clientID
}

// Edit page for OAuth provider
type OAuthProviderEditData struct {
	PageData layouts.PageData
	Provider OAuthProviderDetail
	Error    string
}

type OAuthProviderDetail struct {
	ID            string
	Name          string
	Provider      string
	ClientID      string
	AuthURL       string
	TokenURL      string
	UserInfoURL   string
	Scopes        string
	RedirectURL   string
	DefaultRole   string
	AutoProvision bool
	AdminGroup    string
	OperatorGroup string
	UserIDClaim   string
	UsernameClaim string
	EmailClaim    string
	GroupsClaim   string
	IsEnabled     bool
	CreatedAt     string
	UpdatedAt     string
}

func OAuthProviderEdit(data OAuthProviderEditData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var25 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var25 == nil {
			templ_7745c5c3_Var25 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var26 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 36, "<div class=\"max-w-2xl mx-auto space-y-6\"><div class=\"flex items-center gap-4\"><a href=\"/admin/oauth\" class=\"p-2 text-gray-400 hover:text-white hover:bg-dark-700 rounded-lg\"><i class=\"fas fa-arrow-left\"></i></a><div><h1 class=\"text-2xl font-display font-bold text-white\">Edit OAuth Provider</h1><p class=\"text-gray-400 text-sm\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var27 string
			templ_7745c5c3_Var27, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 547, Col: 58}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var27))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 37, "</p></div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Error != "" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 38, "<div class=\"bg-red-500/10 border border-red-500/20 rounded-lg p-4 text-red-400\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var28 string
				templ_7745c5c3_Var28, templ_7745c5c3_Err = templ.JoinStringErrs(data.Error)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 553, Col: 17}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var28))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 39, "</div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 40, "<form action=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var29 templ.SafeURL
			templ_7745c5c3_Var29, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/admin/oauth/" + data.Provider.ID))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 557, Col: 67}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var29))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 41, "\" method=\"POST\" class=\"card p-6 space-y-4\"><input type=\"hidden\" name=\"csrf_token\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var30 string
			templ_7745c5c3_Var30, templ_7745c5c3_Err = templ.JoinStringErrs(data.PageData.CSRFToken)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 558, Col: 74}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var30))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 42, "\"><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Provider Name</label> <input type=\"text\" name=\"name\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var31 string
			templ_7745c5c3_Var31, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 563, Col: 63}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var31))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 43, "\" required class=\"input\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Provider Type</label> <select name=\"provider\" class=\"input\"><option value=\"generic\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Provider.Provider == "generic" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 44, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 45, ">Generic OAuth2</option> <option value=\"oidc\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Provider.Provider == "oidc" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 46, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 47, ">OpenID Connect</option> <option value=\"github\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Provider.Provider == "github" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 48, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 49, ">GitHub</option> <option value=\"google\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Provider.Provider == "google" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 50, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 51, ">Google</option> <option value=\"microsoft\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Provider.Provider == "microsoft" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 52, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 53, ">Microsoft</option></select></div></div><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Client ID</label> <input type=\"text\" name=\"client_id\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var32 string
			templ_7745c5c3_Var32, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.ClientID)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 580, Col: 72}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var32))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 54, "\" required class=\"input\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Client Secret</label> <input type=\"password\" name=\"client_secret\" class=\"input\" placeholder=\"Leave blank to keep current\"></div></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Authorization URL</label> <input type=\"url\" name=\"auth_url\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var33 string
			templ_7745c5c3_Var33, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.AuthURL)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 590, Col: 68}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var33))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 55, "\" class=\"input\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Token URL</label> <input type=\"url\" name=\"token_url\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var34 string
			templ_7745c5c3_Var34, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.TokenURL)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 594, Col: 70}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var34))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 56, "\" class=\"input\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">User Info URL</label> <input type=\"url\" name=\"user_info_url\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var35 string
			templ_7745c5c3_Var35, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.UserInfoURL)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 598, Col: 77}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var35))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 57, "\" class=\"input\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Scopes</label> <input type=\"text\" name=\"scopes\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var36 string
			templ_7745c5c3_Var36, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.Scopes)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 603, Col: 66}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var36))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 58, "\" class=\"input\"><p class=\"text-xs text-gray-500 mt-1\">Space-separated list of scopes</p></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Redirect URL</label> <input type=\"url\" name=\"redirect_url\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var37 string
			templ_7745c5c3_Var37, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.RedirectURL)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 609, Col: 76}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var37))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 59, "\" class=\"input\"></div><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Default Role</label> <select name=\"default_role\" class=\"input\"><option value=\"viewer\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Provider.DefaultRole == "viewer" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 60, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 61, ">Viewer</option> <option value=\"operator\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Provider.DefaultRole == "operator" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 62, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 63, ">Operator</option> <option value=\"admin\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Provider.DefaultRole == "admin" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 64, " selected")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 65, ">Admin</option></select></div><div class=\"flex items-center gap-4 pt-7\"><label class=\"flex items-center gap-2 cursor-pointer\"><input type=\"checkbox\" name=\"auto_provision\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Provider.AutoProvision {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 66, " checked")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 67, " class=\"w-4 h-4 rounded border-gray-600 bg-dark-700 text-primary-500 focus:ring-primary-500\"> <span class=\"text-sm text-gray-300\">Auto-provision users</span></label> <label class=\"flex items-center gap-2 cursor-pointer\"><input type=\"checkbox\" name=\"is_enabled\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Provider.IsEnabled {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 68, " checked")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 69, " class=\"w-4 h-4 rounded border-gray-600 bg-dark-700 text-primary-500 focus:ring-primary-500\"> <span class=\"text-sm text-gray-300\">Enabled</span></label></div></div><!-- Group Mapping --><details class=\"bg-dark-700 rounded-lg\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Provider.AdminGroup != "" || data.Provider.OperatorGroup != "" {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 70, " open")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 71, "><summary class=\"p-4 cursor-pointer text-gray-300 hover:text-white\"><i class=\"fas fa-users-cog mr-2\"></i>Group Role Mapping</summary><div class=\"p-4 pt-0 space-y-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Admin Group</label> <input type=\"text\" name=\"admin_group\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var38 string
			templ_7745c5c3_Var38, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.AdminGroup)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 641, Col: 77}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var38))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 72, "\" class=\"input\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Operator Group</label> <input type=\"text\" name=\"operator_group\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var39 string
			templ_7745c5c3_Var39, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.OperatorGroup)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 645, Col: 83}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var39))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 73, "\" class=\"input\"></div></div></details><!-- Claim Mapping --><details class=\"bg-dark-700 rounded-lg\"><summary class=\"p-4 cursor-pointer text-gray-300 hover:text-white\"><i class=\"fas fa-tags mr-2\"></i>Claim Mapping</summary><div class=\"p-4 pt-0 grid grid-cols-2 gap-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">User ID Claim</label> <input type=\"text\" name=\"user_id_claim\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var40 string
			templ_7745c5c3_Var40, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.UserIDClaim)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 658, Col: 80}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var40))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 74, "\" class=\"input\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Username Claim</label> <input type=\"text\" name=\"username_claim\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var41 string
			templ_7745c5c3_Var41, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.UsernameClaim)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 662, Col: 83}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var41))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 75, "\" class=\"input\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Email Claim</label> <input type=\"text\" name=\"email_claim\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var42 string
			templ_7745c5c3_Var42, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.EmailClaim)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 666, Col: 77}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var42))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 76, "\" class=\"input\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Groups Claim</label> <input type=\"text\" name=\"groups_claim\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var43 string
			templ_7745c5c3_Var43, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.GroupsClaim)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 670, Col: 79}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var43))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 77, "\" class=\"input\"></div></div></details><div class=\"flex justify-end gap-3 pt-4\"><a href=\"/admin/oauth\" class=\"btn-secondary\">Cancel</a> <button type=\"submit\" class=\"btn-primary\">Save Changes</button></div></form><!-- Metadata --><div class=\"card p-4 text-sm text-gray-500\"><div class=\"flex justify-between\"><span>Created: ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var44 string
			templ_7745c5c3_Var44, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.CreatedAt)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 684, Col: 45}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var44))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 78, "</span> <span>Updated: ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var45 string
			templ_7745c5c3_Var45, templ_7745c5c3_Err = templ.JoinStringErrs(data.Provider.UpdatedAt)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/admin/oauth_providers.templ`, Line: 685, Col: 45}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var45))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 79, "</span></div></div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = layouts.Base(data.PageData).Render(templ.WithChildren(ctx, templ_7745c5c3_Var26), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
